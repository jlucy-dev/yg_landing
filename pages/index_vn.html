<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="../assets/style.css" />
    <link rel="stylesheet" href="../assets/mobile.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css"
    />
  </head>

  <body>
    <main id="wrap">
      <section id="section1">
        <img src="../assets/img/Welcome.png" alt="" />
        <div class="blueBox">
          <h1>
            한국 출입국 및 체류 외국인을 위한<br />
            <strong>온라인 민원 대행</strong> 서비스
          </h1>
        </div>
      </section>
      <!-- //section1 -->

      <section id="section2">
        <div class="container">
          <div class="sec2_contents_why">
            <p class="why_text">
              한국 출입을 원하는 외국인 및 국내 체류 외국인들을 위한
              <strong>온라인 민원 대행 서비스</strong>를 제공합니다. 민원별
              유능한 전문가를 보유 중이며 한국 체류 관련 총 33종의 민원 대행으로
              구성되어 있습니다.
              <span>(비자, 체류, 국적, 난민, 외국인 등록, 기타 등)</span>
            </p>
          </div>
        </div>
      </section>
      <!-- section2 -->

      <section id="section3">
        <div class="container">
          <h2>어떻게 진행되나요?</h2>
          <div class="sec3_contents">
            <div class="sec3_stepBox">
              <h4>Step 01</h4>
              <img src="../assets/img/section3_step1.png" alt="" />
            </div>
            <div class="sec3_stepBox">
              <h4>Step 02</h4>
              <img src="../assets/img/section3_step2.png" alt="" />
            </div>
            <div class="sec3_stepBox">
              <h4>Step 03</h4>
              <img src="../assets/img/section3_step3.png" alt="" />
            </div>
            <div class="sec3_stepBox">
              <h4>Step 04</h4>
              <img src="../assets/img/section3_step4.png" alt="" />
            </div>
          </div>
        </div>
      </section>
      <!-- section3 -->

      <section class="formSection">
        <h2>무엇이든 물어보세요</h2>
        <p>여러분의 궁금증을 간단하게 해결해드립니다.</p>
        <form class="form">
          <div class="forminputbox">
            <input type="text" placeholder="name" id="username" />
            <i class="fas fa-user formicon"></i>
          </div>
          <div class="forminputbox">
            <input type="text" placeholder="nationality" id="nation" />
            <i class="fas fa-flag formicon"></i>
          </div>
          <div class="forminputbox">
            <input type="text" placeholder="Phone or E - Mail" id="contact" />
            <i class="fas fa-phone-volume formicon"></i>
          </div>
          <div class="forminputbox textarea">
            <textarea placeholder="message" id="message"></textarea>
            <i class="fas fa-pen formicon last"></i>
          </div>
          <div class="checkBox">
            <input
              type="checkbox"
              id="policy"
              onclick="getCheckboxValue(event)"
            />
            <label htmlfor="policy">개인정보수집 및 이용동의</label>
            <a href="#3">[개인정보처리방침]</a>
          </div>
          <button type="submit">제출하기</button>
        </form>
        <h2>😄 감사합니다 😄</h2>
        <!-- 모달 제거 요청 적용
        <div id="modal">
          <div class="modal_box">
            <h2>상담신청 완료</h2>
            <a href="https://mykoreavisa.com/">더 알아보기</a>
            <span class="modal_close">X</span>
          </div>
        </div>
       -->
      </section>
      <!-- formSection -->

      <footer id="footer">
        <div class="container">
          <div class="footerLeft">
            <p>
              법무법인 영진은 항상 고객의 입장에서 바라보고 생각하는 자세를
              견지하여 고객과 함께 성장해 나갈 수 있는 로펌이 될 것을 약속
              드립니다.
            </p>
          </div>
          <div class="footerRight">
            <ul>
              <p>1. 신뢰</p>
              <li>
                법무법인(유) 영진은 고객과의 신뢰를 기반으로 지속적으로
                성장하겠습니다.
              </li>
            </ul>
            <ul>
              <p>2. 공감</p>
              <li>
                법무법인(유) 영진은 고객과 하나되어 서로 이해하고 공감하며
                나아가겠습니다.
              </li>
            </ul>
            <ul>
              <p>3. 전문성</p>
              <li>
                법무법인(유) 영진은 고객에게 보다 전문화된 VISA 법률 서비스를
                제공하겠습니다.
              </li>
            </ul>
          </div>
        </div>
      </footer>
      <!--Form Section-->
    </main>

    <script>
      const Form = document.querySelector(".form");
      let username = document.querySelector(".form #username");
      let nation = document.querySelector(".form #nation");
      let contact = document.querySelector(".form #contact");
      let message = document.querySelector(".form #message");
      let checkbox = document.querySelector(".form .checkbox #policy");
      let checkValue = "";

      function getCheckboxValue(event) {
        if (event.target.checked) {
          checkValue = event.target.value;
        } else {
          checkValue = "";
        }
      }

      Form.addEventListener("submit", (e) => {
        e.preventDefault();
        validateForm();

        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");

        var raw = JSON.stringify({
          name: username.value,
          nation: nation.value,
          contact: contact.value,
          message: message.value,
        });

        var requestOptions = {
          method: "POST",
          headers: myHeaders,
          body: raw,
          redirect: "follow",
        };

        fetch("http://3.38.166.125:4000", requestOptions)
          .then((response) => {
            response.text();
            console.log("체크");
          })
          .catch((error) => {
            console.log("error", error);
          });

      });

      function validateForm(event) {
        if (username.value == "") {
          alert("이름이 비어있습니다!");
          return username.focus();
        } else if (nation.value == "") {
          alert("국적이 비어있습니다.");
          return nation.focus();
        } else if (contact.value == "") {
          alert("휴대폰 번호 또는 이메일을 입력해주세요.");
          return contact.focus();
        } else if (checkValue == "") {
          alert("개인정보 동의에 체크해주세요");
          return false;
        }
        alert("요청이 접수되었습니다. 잠시 후 안내 페이지로 이동합니다.");
        setTimeout(() => {
          window.location.href = "https://mykoreavisa.com/";
        }, 2000);
      }
    </script>
  </body>
</html>
